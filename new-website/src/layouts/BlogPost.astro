---
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import FormattedDate from '../components/FormattedDate.astro';
import SuccessStoriesSection from '../components/SuccessStoriesSection.astro';
import ColyseusCloudSection from '../components/ColyseusCloudSection.astro';

type Props = CollectionEntry<'blog'>['data'];

const props = Astro.props;
const { title, description, pubDate, updatedDate, heroImage } = props;
---

<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
	</head>

	<body>
		<Header />
		<main>
			<article class="container mx-auto max-w-screen-md mt-8 px-4 pb-12">
				<div class="hero-image">
					{heroImage && <img class="w-full rounded-2xl" src={heroImage} alt="" />}
				</div>
				<div class="prose">
					<div class="title">

						<h1 class="mb-2 mt-8 text-6xl ">{title}</h1>
            {(description) ? <h4>{description}</h4> : null}

						<hr />
						<div class="text-center">
							<span class="inline-block"><FormattedDate date={pubDate} /></span>
							{
								updatedDate && (
									<span class="last-updated-on">
										Last updated on <FormattedDate date={updatedDate} />
									</span>
								)
							}

              {(props.author)
                ? <span class="mx-2">Â·</span>
                  <span class="inline-block">
                    <svg class="inline-block text-sm mr-2 relative -top-0.5" fill="currentColor" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z"/></svg>
                    {props.author}
                  </span>
                : null }
						</div>
						<hr />

					</div>
					<slot />
				</div>
			</article>

      <ColyseusCloudSection bgGray={true} />

		</main>
		<Footer />
	</body>
</html>
